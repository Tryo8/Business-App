<div class="container">
  <h5 class="text-600 text-center text-def">Employees</h5>
  @if(loading){
    <div class="loading justify-content-center align-content-center" style="height: 80vh;">    
      <div class="d-flex gap-2 justify-content-center">
          <div class="spinner-grow spinner-grow-sm" role="status">
              <span class="visually-hidden">Loading...</span>
          </div>
          <div class="spinner-grow spinner-grow-sm" role="status">
              <span class="visually-hidden">Loading...</span>
          </div>
          <div class="spinner-grow spinner-grow-sm" role="status">
              <span class="visually-hidden">Loading...</span>
          </div>  
        </div>
    </div>
  }
  @if(error){
    <div class="my-3 justify-content-center text-center">
      <figure class="text-center">
          <img src="https://cdn-icons-png.flaticon.com/256/4865/4865933.png" height="130" class="object-fit-lg-contain"/>
      </figure>
      <p class="text-danger"><i class="pi pi-exclamation-circle"></i>  {{ error }}</p>
    
      <button class="btn__blue px-4" (click)="loadUsers()">Retry</button>
    </div>
  }
  @if(!loading && users.length > 0){
    <div class="users-grid">
        @for(user of users; track $index){
          <div class="user-card text-def" (click)="getUserDetails(user.id)">
            <div class="user-card__header">
              <img [src]="user.image" [alt]="user?.firstName" class="user-card__image">
              <div class="user-card__status"></div>
            </div>
            
            <div class="user-card__content">
              <h3 class="user-card__name">{{ user?.firstName }} {{ user?.lastName }}</h3>
              <p class="user-card__title">{{ user?.company?.department }}</p>
              
              <div class="user-card__info">
                <div class="info-item">
                  <i class="pi pi-envelope"></i>
                  <span class="text-truncate">{{ user?.email }}</span>
                </div>
                <div class="info-item">
                  <i class="pi pi-phone"></i>
                  <span>{{ user?.phone }}</span>
                </div>
                <div class="info-item">
                  <i class="pi pi-map-marker"></i>
                  <span class="text-truncate">{{ user?.address?.city }}</span>
                </div>
              </div>
            </div>
            
            <div class="user-card__footer">
              <div class="user-card__meta">
                <span class="badge badge--primary">{{ user?.age }} years</span>
                <span class="badge badge--secondary">{{ user?.gender }}</span>
              </div>
              <button class="user-card__action" (click)="getUserDetails(user.id); $event.stopPropagation()">
                <i class="pi pi-arrow-right"></i>
              </button>
            </div>
          </div>
        }
      </div>
    }

</div>